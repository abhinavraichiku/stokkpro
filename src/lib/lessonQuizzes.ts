export interface VisualQuiz {
  id: string;
  type: 'text' | 'pie' | 'bar' | 'comparison' | 'scenario' | 'visual' | 'calculation' | 'chart' | 'tricky';
  question: string;
  options: string[];
  correctIndex: number;
  explanation: string;
  visual?: {
    type: 'pie' | 'bar' | 'comparison' | 'chart' | 'scenario';
    data: any;
  };
  difficulty: 'easy' | 'medium' | 'tricky';
}

export const lessonQuizzes: Record<number, VisualQuiz[]> = {
  // Day 1: Stock Market Basics
  1: [
    { id: '1-1', type: 'text', question: 'What is a stock exchange?', options: ['A marketplace for buying/selling company shares', 'A shopping mall', 'A bank'], correctIndex: 0, explanation: 'A stock exchange is where you buy and sell shares of companies!', difficulty: 'easy' },
    { id: '1-2', type: 'pie', question: 'Look at the pie chart. If TCS holds 40% of the IT sector market, which statement is TRUE?', options: ['TCS is a small company', 'TCS is bankrupt', 'TCS dominates IT sector'], correctIndex: 2, explanation: '40% market share means TCS is a major player in the IT sector.', visual: { type: 'pie', data: { segments: [{ label: 'TCS', value: 40, color: '#10B981' }, { label: 'Infosys', value: 30, color: '#3B82F6' }, { label: 'Others', value: 30, color: '#6B7280' }] } }, difficulty: 'medium' },
    { id: '1-3', type: 'tricky', question: 'You want to buy shares at 8 PM on Saturday. What happens?', options: ['Trade executes immediately', 'Trade is rejected forever', 'Order placed for Monday'], correctIndex: 2, explanation: 'Markets are closed on weekends. Your order will wait until Monday 9:15 AM.', difficulty: 'tricky' },
    { id: '1-4', type: 'comparison', question: 'NSE vs BSE - Which has MORE trading volume?', options: ['NSE', 'BSE', 'Both equal'], correctIndex: 0, explanation: 'NSE handles approximately 80% of India trading volume.', visual: { type: 'comparison', data: { items: [{ label: 'NSE', value: 80 }, { label: 'BSE', value: 20 }] } }, difficulty: 'medium' },
    { id: '1-5', type: 'scenario', question: 'A company wants to raise ₹1000 crore. What do they do?', options: ['Issue shares on stock exchange', 'Print their own money', 'Take bank loan only'], correctIndex: 0, explanation: 'Companies raise capital by selling shares to public through IPOs.', difficulty: 'easy' },
    { id: '1-6', type: 'tricky', question: 'If Nifty falls 5%, does it mean ALL 50 stocks fell?', options: ['No, its an average', 'Yes, all 50 fell exactly 5%', 'Index cant fall'], correctIndex: 0, explanation: 'Nifty is a weighted average. Some stocks may rise while others fall more.', difficulty: 'tricky' },
    { id: '1-7', type: 'calculation', question: 'Reliance share price ₹2500, lot size is 50. Total contract value?', options: ['₹2500', '₹50,000', '₹1,25,000'], correctIndex: 2, explanation: '50 × ₹2500 = ₹1,25,000 per lot.', difficulty: 'medium' },
    { id: '1-8', type: 'visual', question: 'A green bar in market data shows:', options: ['Price went UP', 'Price went DOWN', 'Market closed'], correctIndex: 0, explanation: 'Green always indicates positive movement (price increase).', difficulty: 'easy' },
    { id: '1-9', type: 'tricky', question: 'Sensex has 30 stocks. If 15 rise and 15 fall equally, what happens to Sensex?', options: ['Rises', 'Depends on which stocks moved more', 'Falls'], correctIndex: 1, explanation: 'Sensex is weighted by market cap. Larger companies have more impact.', difficulty: 'tricky' },
    { id: '1-10', type: 'scenario', question: 'Your friend says "I own 100 TCS shares". What does this mean?', options: ['He owns a tiny fraction of TCS company', 'He owns 100 TCS offices', 'He works at TCS'], correctIndex: 0, explanation: 'Shares represent fractional ownership of a company.', difficulty: 'easy' },
    { id: '1-11', type: 'pie', question: 'This pie shows a portfolio. Is it diversified?', options: ['No, too concentrated in one stock', 'Yes, well balanced', 'Cant determine'], correctIndex: 0, explanation: 'Having 70% in one stock is risky. Diversification means spreading across sectors.', visual: { type: 'pie', data: { segments: [{ label: 'Reliance', value: 70, color: '#EF4444' }, { label: 'HDFC', value: 15, color: '#10B981' }, { label: 'TCS', value: 15, color: '#3B82F6' }] } }, difficulty: 'medium' },
    { id: '1-12', type: 'tricky', question: 'BSE was founded in 1875. NSE in 1992. Which has more advanced technology?', options: ['NSE (newer = modern tech)', 'BSE (older = more experience)', 'Same technology'], correctIndex: 0, explanation: 'NSE revolutionized Indian markets with electronic trading. BSE followed later.', difficulty: 'tricky' },
  ],

  // Day 2: What is a Share
  2: [
    { id: '2-1', type: 'text', question: 'If you buy 10 shares of TCS, what do you own?', options: ['A tiny part of TCS company', 'TCS office building', 'TCS products'], correctIndex: 0, explanation: 'Shares represent ownership in the company!', difficulty: 'easy' },
    { id: '2-2', type: 'pie', question: 'Promoters hold 50% of company. You hold 100 shares out of 1 crore total. Your ownership is?', options: ['0.001%', '50%', '1%'], correctIndex: 0, explanation: '100 / 1,00,00,000 × 100 = 0.001%. Tiny but real ownership!', visual: { type: 'pie', data: { segments: [{ label: 'Promoters', value: 50, color: '#10B981' }, { label: 'FII', value: 30, color: '#3B82F6' }, { label: 'Retail', value: 20, color: '#F59E0B' }] } }, difficulty: 'medium' },
    { id: '2-3', type: 'tricky', question: 'Company makes ₹100 crore profit. You own 0.01% shares. Do you get ₹1 lakh?', options: ['Only if company declares dividend', 'Yes, automatically', 'Never get anything'], correctIndex: 0, explanation: 'Profits may be reinvested. You only receive if dividend is declared.', difficulty: 'tricky' },
    { id: '2-4', type: 'calculation', question: 'Share price ₹500. You invest ₹50,000. How many shares?', options: ['100 shares', '50 shares', '500 shares'], correctIndex: 0, explanation: '₹50,000 ÷ ₹500 = 100 shares.', difficulty: 'medium' },
    { id: '2-5', type: 'comparison', question: 'Stock A: ₹10 per share. Stock B: ₹1000 per share. Which is "cheaper"?', options: ['Cannot compare just by price', 'Stock A is cheaper', 'Stock B is cheaper'], correctIndex: 0, explanation: 'Price alone doesnt determine value. Compare P/E ratios and fundamentals.', visual: { type: 'comparison', data: { items: [{ label: 'Stock A', value: 10 }, { label: 'Stock B', value: 1000 }] } }, difficulty: 'tricky' },
    { id: '2-6', type: 'scenario', question: 'TCS announces 2:1 stock split. Your 100 shares become?', options: ['200 shares', '50 shares', '100 shares (same)'], correctIndex: 0, explanation: '2:1 split means each share becomes 2. Price halves, quantity doubles.', difficulty: 'medium' },
    { id: '2-7', type: 'text', question: 'What is market capitalization?', options: ['Total profit', 'Revenue', 'Share price × Total shares'], correctIndex: 2, explanation: 'Market cap = Share price × Outstanding shares. Shows company size.', difficulty: 'easy' },
    { id: '2-8', type: 'tricky', question: 'Infosys does buyback at ₹2000. Current price ₹1600. Should you tender?', options: ['Yes, get premium', 'No, price is lower', 'Makes no difference'], correctIndex: 0, explanation: 'Buyback at ₹2000 when market is ₹1600 = ₹400 premium per share!', difficulty: 'tricky' },
    { id: '2-9', type: 'bar', question: 'Looking at this shareholding pattern, who has maximum control?', options: ['Promoters', 'FIIs', 'Retail'], correctIndex: 0, explanation: 'Promoters with 55% have controlling stake in the company.', visual: { type: 'bar', data: { bars: [{ label: 'Promoters', value: 55 }, { label: 'FII', value: 25 }, { label: 'Retail', value: 20 }] } }, difficulty: 'medium' },
    { id: '2-10', type: 'calculation', question: 'TCS: 365 crore shares × ₹3500 price. Market cap?', options: ['₹12.7 lakh crore', '₹36,500 crore', '₹3650 crore'], correctIndex: 0, explanation: '365 crore × 3500 = 12,77,500 crore = ₹12.7 lakh crore', difficulty: 'medium' },
    { id: '2-11', type: 'tricky', question: 'Promoter pledges 30% holding. Is this concerning?', options: ['Yes, may sell if prices fall', 'No, normal practice', 'Doesnt matter'], correctIndex: 0, explanation: 'High pledge means promoter borrowed against shares. Can lead to forced selling.', difficulty: 'tricky' },
    { id: '2-12', type: 'scenario', question: 'Company announces bonus 1:1. You have 100 shares at ₹200 each. What happens?', options: ['Get 100 more shares, price becomes ₹100', 'Get 100 more shares, price stays same', 'Nothing changes'], correctIndex: 0, explanation: 'Bonus increases shares, price adjusts proportionally. Value stays same.', difficulty: 'medium' },
  ],

  // Day 3: How Prices Move (Supply & Demand - NO gap up, market order concepts yet)
  3: [
    { id: '3-1', type: 'text', question: 'What happens when more buyers than sellers?', options: ['Price goes UP', 'Price stays same', 'Price goes DOWN'], correctIndex: 0, explanation: 'More demand (buyers) = Higher price!', difficulty: 'easy' },
    { id: '3-2', type: 'comparison', question: 'Supply vs Demand: Look at this balance. What will price do?', options: ['Rise sharply', 'Fall sharply', 'Stay sideways'], correctIndex: 0, explanation: 'Demand (70) > Supply (30) = Price will rise.', visual: { type: 'comparison', data: { items: [{ label: 'Demand', value: 70 }, { label: 'Supply', value: 30 }] } }, difficulty: 'medium' },
    { id: '3-3', type: 'scenario', question: 'Company announces great quarterly results. What happens to stock price?', options: ['Price likely goes UP', 'Price stays same', 'Price goes DOWN'], correctIndex: 0, explanation: 'Good news creates buying interest, pushing price up.', difficulty: 'easy' },
    { id: '3-4', type: 'pie', question: 'This shows buyer vs seller interest. Which way will price move?', options: ['Up (more buyers)', 'Down (more sellers)', 'Sideways'], correctIndex: 0, explanation: 'Buy orders (60%) outweigh sell orders (40%). Price likely to rise.', visual: { type: 'pie', data: { segments: [{ label: 'Buy Orders', value: 60, color: '#10B981' }, { label: 'Sell Orders', value: 40, color: '#EF4444' }] } }, difficulty: 'medium' },
    { id: '3-5', type: 'tricky', question: 'Stock price was ₹100. Now its ₹80. What MUST have happened?', options: ['More sellers than buyers', 'Company went bankrupt', 'Market was closed'], correctIndex: 0, explanation: 'Price falls only when sellers exceed buyers. Simple supply-demand.', difficulty: 'medium' },
    { id: '3-6', type: 'calculation', question: 'Stock at ₹100. Tomorrow more buyers arrive. Price likely to be?', options: ['Above ₹100', 'Exactly ₹100', 'Below ₹100'], correctIndex: 0, explanation: 'More buyers = More demand = Higher price.', difficulty: 'easy' },
    { id: '3-7', type: 'scenario', question: 'Bad news comes out about a company. What happens to sellers?', options: ['More sellers appear', 'Sellers disappear', 'No change in sellers'], correctIndex: 0, explanation: 'Bad news makes people want to sell, increasing supply.', difficulty: 'easy' },
    { id: '3-8', type: 'tricky', question: 'Everyone wants to buy a stock but NO ONE is selling. What happens?', options: ['Price shoots up rapidly', 'Price stays same', 'Trading stops'], correctIndex: 2, explanation: 'With no sellers, no trades can happen. Need both sides!', difficulty: 'tricky' },
    { id: '3-9', type: 'bar', question: 'Look at buying interest over 4 days. When was demand highest?', options: ['Day 3', 'Day 1', 'Day 4'], correctIndex: 0, explanation: 'Day 3 has the most buying interest (highest bar).', visual: { type: 'bar', data: { bars: [{ label: 'Day 1', value: 100 }, { label: 'Day 2', value: 120 }, { label: 'Day 3', value: 500 }, { label: 'Day 4', value: 110 }] } }, difficulty: 'medium' },
    { id: '3-10', type: 'text', question: 'If supply increases but demand stays same, price will?', options: ['Fall', 'Rise', 'Stay same'], correctIndex: 0, explanation: 'More supply with same demand = Lower price.', difficulty: 'easy' },
    { id: '3-11', type: 'tricky', question: 'Stock has been falling for 5 days. This means?', options: ['Sellers have been stronger than buyers', 'No one is trading', 'Company is shutting down'], correctIndex: 0, explanation: 'Continuous fall = Consistent selling pressure exceeding buying.', difficulty: 'medium' },
    { id: '3-12', type: 'comparison', question: 'Stock A: 1000 buyers, 500 sellers. Stock B: 100 buyers, 100 sellers. Which rises more?', options: ['Stock A (more buyer imbalance)', 'Stock B (balanced)', 'Both same'], correctIndex: 0, explanation: 'Stock A has 2:1 buyer:seller ratio - stronger upward pressure.', visual: { type: 'comparison', data: { items: [{ label: 'Stock A Ratio', value: 200 }, { label: 'Stock B Ratio', value: 100 }] } }, difficulty: 'tricky' },
  ],

  // Day 4: Reading Price Charts
  4: [
    { id: '4-1', type: 'text', question: 'A chart line going from bottom-left to top-right shows?', options: ['Price is rising', 'Price is falling', 'Price is stuck'], correctIndex: 0, explanation: 'Upward slope = Price is increasing over time!', difficulty: 'easy' },
    { id: '4-2', type: 'chart', question: 'This line chart shows what direction?', options: ['Up (prices rising)', 'Down (prices falling)', 'Sideways'], correctIndex: 0, explanation: 'Higher highs = Clear upward movement.', visual: { type: 'chart', data: { points: [100, 110, 105, 120, 115, 130] } }, difficulty: 'medium' },
    { id: '4-3', type: 'scenario', question: 'Chart shows prices falling for 3 months. This is called?', options: ['Downtrend', 'Uptrend', 'Consolidation'], correctIndex: 0, explanation: 'Consistent lower prices = Downtrend.', difficulty: 'easy' },
    { id: '4-4', type: 'text', question: 'What does a flat horizontal line on chart indicate?', options: ['Price not moving much (range)', 'Strong uptrend', 'Market crash'], correctIndex: 0, explanation: 'Flat price = No clear direction. Price in a range.', difficulty: 'easy' },
    { id: '4-5', type: 'tricky', question: 'Chart shows: ₹100 → ₹90 → ₹110 → ₹95 → ₹120. Overall direction?', options: ['Upward (prices generally rising)', 'Downward', 'No direction'], correctIndex: 0, explanation: 'Despite dips, price went from ₹100 to ₹120. Overall upward.', difficulty: 'tricky' },
    { id: '4-6', type: 'comparison', question: 'Chart A shows steady rise. Chart B shows wild swings. Which is easier to trade?', options: ['Chart A (clear direction)', 'Chart B (more movement)', 'Both same difficulty'], correctIndex: 0, explanation: 'Steady trends are easier to trade than chaotic movements.', visual: { type: 'comparison', data: { items: [{ label: 'Chart A Clarity', value: 90 }, { label: 'Chart B Clarity', value: 30 }] } }, difficulty: 'medium' },
    { id: '4-7', type: 'calculation', question: 'Stock was ₹100 in January, ₹150 in December. Yearly gain?', options: ['50%', '100%', '150%'], correctIndex: 0, explanation: '(150-100)/100 × 100 = 50% gain.', difficulty: 'medium' },
    { id: '4-8', type: 'pie', question: 'Your time spent on different charts. Good for learning?', options: ['Yes, focusing on daily chart', 'No, need more variety', 'Charts dont matter'], correctIndex: 0, explanation: 'For beginners, daily charts are best to understand trends.', visual: { type: 'pie', data: { segments: [{ label: 'Daily', value: 70, color: '#10B981' }, { label: 'Weekly', value: 20, color: '#3B82F6' }, { label: 'Hourly', value: 10, color: '#F59E0B' }] } }, difficulty: 'medium' },
    { id: '4-9', type: 'tricky', question: 'Stock chart shows ₹500 in 2020, ₹250 in 2024. Good investment?', options: ['No, lost 50% value', 'Yes, price is lower now', 'Cant tell from chart alone'], correctIndex: 2, explanation: 'Price alone doesnt tell the full story. Company might still be good.', difficulty: 'tricky' },
    { id: '4-10', type: 'scenario', question: 'Chart shows price stuck between ₹90-₹100 for 6 months. What is this?', options: ['Range or Consolidation', 'Uptrend', 'Downtrend'], correctIndex: 0, explanation: 'Price bouncing in a range = Consolidation.', difficulty: 'easy' },
    { id: '4-11', type: 'bar', question: 'Monthly price changes shown. Which month had biggest drop?', options: ['February (-30)', 'January (+40)', 'April (-20)'], correctIndex: 0, explanation: 'February shows -30, the largest negative movement.', visual: { type: 'bar', data: { bars: [{ label: 'Jan', value: 40 }, { label: 'Feb', value: -30 }, { label: 'Mar', value: 25 }, { label: 'Apr', value: -20 }] } }, difficulty: 'medium' },
    { id: '4-12', type: 'tricky', question: 'Two stocks: A went ₹10→₹20, B went ₹100→₹150. Which gained more %?', options: ['Stock A (100% gain)', 'Stock B (50% gain)', 'Both same'], correctIndex: 0, explanation: 'A: (20-10)/10=100%. B: (150-100)/100=50%. A gained more percentage.', difficulty: 'tricky' },
  ],

  // Day 5: What is Trading
  5: [
    { id: '5-1', type: 'text', question: 'You buy at ₹500 and sell at ₹550. Whats your profit?', options: ['₹50', '₹500', '₹550'], correctIndex: 0, explanation: 'Profit = 550 - 500 = ₹50!', difficulty: 'easy' },
    { id: '5-2', type: 'calculation', question: 'Buy 100 shares at ₹200, sell at ₹220. Total profit?', options: ['₹2000', '₹20', '₹200'], correctIndex: 0, explanation: '(220-200) × 100 = ₹2000 profit.', difficulty: 'medium' },
    { id: '5-3', type: 'tricky', question: 'You make ₹5000 profit but paid ₹500 in brokerage. Net profit?', options: ['₹4500', '₹5000', '₹500'], correctIndex: 0, explanation: 'Net = Gross profit - Costs. 5000 - 500 = ₹4500.', difficulty: 'tricky' },
    { id: '5-4', type: 'scenario', question: 'Stock bought at ₹100 is now ₹90. You have a loss of?', options: ['₹10 per share', '₹100 per share', 'No loss until you sell'], correctIndex: 2, explanation: 'Loss is only realized when you sell. Paper loss is not actual loss yet.', difficulty: 'medium' },
    { id: '5-5', type: 'comparison', question: 'Trader A buys/sells daily. Trader B holds for years. Who pays more fees?', options: ['Trader A (more transactions)', 'Trader B', 'Same fees'], correctIndex: 0, explanation: 'More trades = More brokerage fees.', visual: { type: 'comparison', data: { items: [{ label: 'Trader A Fees', value: 80 }, { label: 'Trader B Fees', value: 20 }] } }, difficulty: 'medium' },
    { id: '5-6', type: 'pie', question: 'Your trades: 6 wins, 4 losses. Win rate?', options: ['60%', '40%', '100%'], correctIndex: 0, explanation: '6 wins out of 10 = 60% win rate.', visual: { type: 'pie', data: { segments: [{ label: 'Wins', value: 60, color: '#10B981' }, { label: 'Losses', value: 40, color: '#EF4444' }] } }, difficulty: 'easy' },
    { id: '5-7', type: 'tricky', question: 'You win 80% of trades but still lose money. Is this possible?', options: ['Yes, if losses are bigger than wins', 'No, impossible', 'Maybe'], correctIndex: 0, explanation: 'If you win ₹10 eight times but lose ₹100 twice, you lose overall!', difficulty: 'tricky' },
    { id: '5-8', type: 'text', question: 'Buying more shares as price falls to reduce average is called?', options: ['Averaging down', 'Selling', 'Stop loss'], correctIndex: 0, explanation: 'Averaging down = buying more to lower your average cost.', difficulty: 'easy' },
    { id: '5-9', type: 'calculation', question: 'You buy 50 shares at ₹100, then 50 more at ₹80. Average cost?', options: ['₹90', '₹100', '₹80'], correctIndex: 0, explanation: '(50×100 + 50×80) / 100 = 9000/100 = ₹90 average.', difficulty: 'medium' },
    { id: '5-10', type: 'scenario', question: 'Your stock is up 20%. What should a smart trader consider?', options: ['Setting a stop loss to protect profits', 'Selling everything immediately', 'Buying more'], correctIndex: 0, explanation: 'Protecting profits with stop loss is smart risk management.', difficulty: 'medium' },
    { id: '5-11', type: 'bar', question: 'Monthly profits shown. Total profit for 4 months?', options: ['₹15 (40-30+25-20)', 'Cannot calculate', '₹115'], correctIndex: 0, explanation: '40 - 30 + 25 - 20 = 15. Net profit ₹15.', visual: { type: 'bar', data: { bars: [{ label: 'Jan', value: 40 }, { label: 'Feb', value: -30 }, { label: 'Mar', value: 25 }, { label: 'Apr', value: -20 }] } }, difficulty: 'tricky' },
    { id: '5-12', type: 'tricky', question: 'Is trading the same as gambling?', options: ['No, trading uses analysis and strategy', 'Yes, both are luck', 'Yes, always lose money'], correctIndex: 0, explanation: 'Unlike gambling, trading uses research, analysis, and risk management.', difficulty: 'easy' },
  ],

  // Day 6: Nifty & Sensex
  6: [
    { id: '6-1', type: 'text', question: 'Nifty 50 represents:', options: ['Top 50 companies on NSE', 'All Indian stocks', 'Only banking stocks'], correctIndex: 0, explanation: 'Nifty 50 = Top 50 companies by market cap on NSE!', difficulty: 'easy' },
    { id: '6-2', type: 'pie', question: 'Sector weightage in Nifty. Which sector has most influence?', options: ['Banking (35%)', 'IT', 'Pharma'], correctIndex: 0, explanation: 'Financial services have highest weightage (~35%) in Nifty.', visual: { type: 'pie', data: { segments: [{ label: 'Banking', value: 35, color: '#10B981' }, { label: 'IT', value: 15, color: '#3B82F6' }, { label: 'Others', value: 50, color: '#6B7280' }] } }, difficulty: 'medium' },
    { id: '6-3', type: 'calculation', question: 'Nifty at 22500. If it falls to 22000, how many points drop?', options: ['500 points', '2250 points', '22000 points'], correctIndex: 0, explanation: '22500 - 22000 = 500 points drop.', difficulty: 'easy' },
    { id: '6-4', type: 'comparison', question: 'Nifty (50 stocks) vs Bank Nifty (12 bank stocks). Which is more risky?', options: ['Bank Nifty (concentrated)', 'Nifty 50 (diversified)', 'Same risk'], correctIndex: 0, explanation: 'Bank Nifty has fewer stocks = more concentrated = more volatile.', visual: { type: 'comparison', data: { items: [{ label: 'Nifty Risk', value: 40 }, { label: 'Bank Nifty Risk', value: 70 }] } }, difficulty: 'medium' },
    { id: '6-5', type: 'scenario', question: 'Reliance is 10% of Nifty. It rises 10%. Other stocks flat. Nifty rises?', options: ['1%', '10%', 'No change'], correctIndex: 0, explanation: '10% weightage × 10% rise = 1% contribution to index.', difficulty: 'tricky' },
    { id: '6-6', type: 'text', question: 'How many stocks are in Sensex?', options: ['30 stocks', '50 stocks', '100 stocks'], correctIndex: 0, explanation: 'Sensex = 30 stocks on BSE. Nifty = 50 stocks on NSE.', difficulty: 'easy' },
    { id: '6-7', type: 'tricky', question: 'Sensex goes up 1000 points but Nifty only 200. Normal or strange?', options: ['Normal, different calculations', 'Strange, impossible', 'Error in data'], correctIndex: 0, explanation: 'Sensex and Nifty have different bases. Point changes arent directly comparable.', difficulty: 'tricky' },
    { id: '6-8', type: 'text', question: 'What is Nifty Next 50?', options: ['Companies ranked 51-100', 'Stocks ranked 1-50', 'Future predictions'], correctIndex: 0, explanation: 'Nifty Next 50 = Companies ranked 51-100, potential Nifty 50 candidates.', difficulty: 'easy' },
    { id: '6-9', type: 'bar', question: 'Index performance shown. Which performed best this week?', options: ['Bank Nifty (+3.5%)', 'Nifty (+2%)', 'Nifty IT (+1%)'], correctIndex: 0, explanation: 'Bank Nifty at +3.5% outperformed others.', visual: { type: 'bar', data: { bars: [{ label: 'Nifty', value: 2 }, { label: 'Bank Nifty', value: 3.5 }, { label: 'Nifty IT', value: 1 }] } }, difficulty: 'medium' },
    { id: '6-10', type: 'tricky', question: 'If ALL 50 Nifty stocks fall 5%, Nifty falls?', options: ['5%', '250 points', 'More than 5%'], correctIndex: 0, explanation: 'If all stocks fall equally, index falls by that same percentage.', difficulty: 'medium' },
    { id: '6-11', type: 'scenario', question: 'Global markets crash. What likely happens to Nifty tomorrow?', options: ['Opens lower', 'Opens higher', 'No effect'], correctIndex: 0, explanation: 'Indian markets are connected to global markets. Bad global news affects India.', difficulty: 'easy' },
    { id: '6-12', type: 'calculation', question: 'Nifty was 20000 last year, now 22000. Yearly gain?', options: ['10%', '2000%', '20%'], correctIndex: 0, explanation: '(22000-20000)/20000 × 100 = 10% gain.', difficulty: 'medium' },
  ],

  // Day 7: Market Hours
  7: [
    { id: '7-1', type: 'text', question: 'Indian stock market opens at:', options: ['9:15 AM', '9:00 AM', '10:00 AM'], correctIndex: 0, explanation: 'NSE/BSE open at 9:15 AM and close at 3:30 PM.', difficulty: 'easy' },
    { id: '7-2', type: 'text', question: 'Indian stock market closes at:', options: ['3:30 PM', '4:00 PM', '5:00 PM'], correctIndex: 0, explanation: 'Markets close at 3:30 PM. No trading after that!', difficulty: 'easy' },
    { id: '7-3', type: 'calculation', question: 'Market open 9:15-3:30. Total trading hours?', options: ['6 hours 15 minutes', '5 hours', '7 hours'], correctIndex: 0, explanation: '9:15 to 3:30 = 6 hours 15 minutes of trading.', difficulty: 'easy' },
    { id: '7-4', type: 'scenario', question: 'You place buy order at 3:40 PM. What happens?', options: ['Order waits for next day', 'Executes immediately', 'Order rejected forever'], correctIndex: 0, explanation: 'Market closed at 3:30 PM. Order will wait for next trading day.', difficulty: 'medium' },
    { id: '7-5', type: 'tricky', question: 'Can you trade on Saturday?', options: ['No, market is closed', 'Yes, special session', 'Only for big traders'], correctIndex: 0, explanation: 'Stock market is closed on weekends. No trading Saturday or Sunday.', difficulty: 'easy' },
    { id: '7-6', type: 'text', question: 'What is "Muhurat Trading"?', options: ['Special Diwali trading session', 'Daily morning session', 'Weekend trading'], correctIndex: 0, explanation: 'Muhurat trading is a special 1-hour session on Diwali day.', difficulty: 'medium' },
    { id: '7-7', type: 'comparison', question: 'Trading at 9:20 AM vs 1:00 PM. Which time is usually more volatile?', options: ['9:20 AM (market just opened)', '1:00 PM (afternoon)', 'Same volatility'], correctIndex: 0, explanation: 'First 30-60 minutes of market are usually most volatile.', visual: { type: 'comparison', data: { items: [{ label: 'Opening Volatility', value: 90 }, { label: 'Mid-day Volatility', value: 40 }] } }, difficulty: 'medium' },
    { id: '7-8', type: 'scenario', question: 'Important news comes at 4 PM. When can you react by trading?', options: ['Next day at 9:15 AM', 'Immediately at 4 PM', 'Never'], correctIndex: 0, explanation: 'Market closed. You can only trade when market opens next day.', difficulty: 'medium' },
    { id: '7-9', type: 'bar', question: 'Trading activity by time. When is market most active?', options: ['Opening hour', 'Lunch time', 'Mid-afternoon'], correctIndex: 0, explanation: 'Highest volume usually at market open and close.', visual: { type: 'bar', data: { bars: [{ label: '9:15-10', value: 90 }, { label: '12-1', value: 40 }, { label: '2-3', value: 60 }] } }, difficulty: 'medium' },
    { id: '7-10', type: 'tricky', question: 'Is market open on Republic Day (26 Jan)?', options: ['No, its a national holiday', 'Yes, normal trading', 'Half day only'], correctIndex: 0, explanation: 'Stock market is closed on national holidays.', difficulty: 'easy' },
    { id: '7-11', type: 'text', question: 'How many trading days are there usually in a year?', options: ['Around 250 days', '365 days', '52 days'], correctIndex: 0, explanation: 'Roughly 250 trading days after removing weekends and holidays.', difficulty: 'medium' },
    { id: '7-12', type: 'scenario', question: 'You have an urgent sell. Its Sunday. What can you do?', options: ['Place order, it will execute Monday', 'Nothing, wait till Monday', 'Call broker for emergency'], correctIndex: 0, explanation: 'You can place the order, but it will only execute when market opens.', difficulty: 'tricky' },
  ],

  // Day 11: Risk & Reward Ratio (teaches Risk:Reward concept)
  11: [
    { id: '11-1', type: 'text', question: 'You risk ₹10 to potentially make ₹30. Risk:Reward ratio?', options: ['1:3', '3:1', '1:1'], correctIndex: 0, explanation: 'Risk ₹10, Reward ₹30 = 1:3 ratio. Great trade!', difficulty: 'easy' },
    { id: '11-2', type: 'calculation', question: 'Entry ₹100, Stop Loss ₹95, Target ₹115. Risk and Reward?', options: ['Risk ₹5, Reward ₹15', 'Risk ₹15, Reward ₹5', 'Risk ₹100, Reward ₹115'], correctIndex: 0, explanation: 'Risk = 100-95 = ₹5. Reward = 115-100 = ₹15.', difficulty: 'medium' },
    { id: '11-3', type: 'comparison', question: 'Trade A: Risk 100, Reward 150. Trade B: Risk 50, Reward 200. Better trade?', options: ['Trade B (1:4 ratio)', 'Trade A (1:1.5 ratio)', 'Both same'], correctIndex: 0, explanation: 'Trade B has 1:4 ratio vs Trade A 1:1.5. Higher reward per risk is better.', visual: { type: 'comparison', data: { items: [{ label: 'Trade A R:R', value: 150 }, { label: 'Trade B R:R', value: 400 }] } }, difficulty: 'medium' },
    { id: '11-4', type: 'tricky', question: 'You risk ₹100 to make ₹50. Is this a good trade?', options: ['No, risking more than potential gain', 'Yes, profit is profit', 'Depends on luck'], correctIndex: 0, explanation: 'Never risk more than you can gain. This is 2:1 risk:reward - bad!', difficulty: 'easy' },
    { id: '11-5', type: 'scenario', question: 'You have 1:2 Risk:Reward. Need to be right what % to breakeven?', options: ['33% of the time', '50% of the time', '66% of the time'], correctIndex: 0, explanation: 'With 1:2 ratio, winning 33% covers losses from 67% losers.', difficulty: 'tricky' },
    { id: '11-6', type: 'pie', question: '10 trades: 4 wins (₹200 each), 6 losses (₹50 each). Profitable?', options: ['Yes, made ₹500', 'No, lost money', 'Breakeven'], correctIndex: 0, explanation: 'Wins: 4×200=₹800. Losses: 6×50=₹300. Net: ₹500 profit!', visual: { type: 'pie', data: { segments: [{ label: 'Wins ₹800', value: 40, color: '#10B981' }, { label: 'Losses ₹300', value: 60, color: '#EF4444' }] } }, difficulty: 'medium' },
    { id: '11-7', type: 'calculation', question: 'Capital ₹10,000. You risk 2% per trade. Risk amount?', options: ['₹200', '₹2000', '₹20'], correctIndex: 0, explanation: '2% of ₹10,000 = ₹200 risk per trade.', difficulty: 'easy' },
    { id: '11-8', type: 'bar', question: 'Your last 4 trades R:R ratios. Which was best setup?', options: ['Trade 3 (1:4)', 'Trade 1 (1:1)', 'Trade 4 (1:2)'], correctIndex: 0, explanation: 'Trade 3 with 1:4 R:R offers best reward for the risk taken.', visual: { type: 'bar', data: { bars: [{ label: 'T1: 1:1', value: 100 }, { label: 'T2: 1:1.5', value: 150 }, { label: 'T3: 1:4', value: 400 }, { label: 'T4: 1:2', value: 200 }] } }, difficulty: 'medium' },
    { id: '11-9', type: 'tricky', question: '90% win rate but each loss is 10x bigger than win. Profitable?', options: ['No, losses wipe out wins', 'Yes, 90% wins!', 'Maybe'], correctIndex: 0, explanation: 'Win 90 times ₹10 = ₹900. Lose 10 times ₹100 = ₹1000. Net loss!', difficulty: 'tricky' },
    { id: '11-10', type: 'text', question: 'What is minimum recommended Risk:Reward for trades?', options: ['1:2 (risk 1 to make 2)', '1:1', '2:1'], correctIndex: 0, explanation: 'Most traders aim for minimum 1:2 R:R to be profitable long term.', difficulty: 'easy' },
    { id: '11-11', type: 'scenario', question: 'Trade setup: Risk ₹100 for ₹300 reward but only 20% probability. Take it?', options: ['Yes, R:R is excellent', 'No, low probability', 'Calculate expected value'], correctIndex: 2, explanation: 'Expected value: 0.2×300 - 0.8×100 = 60-80 = -₹20. Dont take it!', difficulty: 'tricky' },
    { id: '11-12', type: 'calculation', question: 'You want 1:3 R:R. Entry ₹100, Stop at ₹90. Target should be?', options: ['₹130', '₹110', '₹150'], correctIndex: 0, explanation: 'Risk = ₹10. Reward = 3×10 = ₹30. Target = 100+30 = ₹130.', difficulty: 'medium' },
  ],

  // Day 19: Support Levels
  19: [
    { id: '19-1', type: 'text', question: 'Price bounced UP from ₹500 three times. ₹500 is called?', options: ['Support level', 'Resistance level', 'Random level'], correctIndex: 0, explanation: 'Price bouncing UP from a level = Support!', difficulty: 'easy' },
    { id: '19-2', type: 'chart', question: 'Looking at this price action, where is support?', options: ['₹80 (price bounced from here)', '₹100', '₹120'], correctIndex: 0, explanation: 'Price bounced from ₹80 multiple times. Thats support.', visual: { type: 'chart', data: { points: [100, 85, 80, 95, 82, 80, 100, 85, 80] } }, difficulty: 'medium' },
    { id: '19-3', type: 'scenario', question: 'Stock at ₹105. Support at ₹100. Good time to buy?', options: ['Yes, close to support', 'No, wait for ₹50', 'Doesnt matter'], correctIndex: 0, explanation: 'Buying near support gives good risk:reward. Stop just below ₹100.', difficulty: 'medium' },
    { id: '19-4', type: 'tricky', question: 'Support held 5 times vs held 2 times. Which is stronger?', options: ['5 times (proven many times)', '2 times (fresher)', 'Same strength'], correctIndex: 0, explanation: 'More bounces = More buyers at that level = Stronger support.', difficulty: 'medium' },
    { id: '19-5', type: 'pie', question: 'Buyers vs Sellers at ₹100 support. Will support hold?', options: ['Likely yes, more buyers', 'Likely no, more sellers', 'Cannot tell'], correctIndex: 0, explanation: '75% buy orders at support = Strong buying interest = Likely hold.', visual: { type: 'pie', data: { segments: [{ label: 'Buyers', value: 75, color: '#10B981' }, { label: 'Sellers', value: 25, color: '#EF4444' }] } }, difficulty: 'medium' },
    { id: '19-6', type: 'text', question: 'What happens when support breaks?', options: ['Price usually falls further', 'Price immediately rises', 'Nothing happens'], correctIndex: 0, explanation: 'Broken support means buyers gave up. Price often falls more.', difficulty: 'easy' },
    { id: '19-7', type: 'comparison', question: 'Support at round number ₹1000 vs ₹1023. Which is stronger?', options: ['₹1000 (psychological level)', '₹1023 (technical)', 'Equal strength'], correctIndex: 0, explanation: 'Round numbers attract more attention. More orders at ₹1000.', visual: { type: 'comparison', data: { items: [{ label: '₹1000 Strength', value: 80 }, { label: '₹1023 Strength', value: 50 }] } }, difficulty: 'tricky' },
    { id: '19-8', type: 'calculation', question: 'Stock rallied from ₹100 to ₹200. 50% support level?', options: ['₹150', '₹100', '₹175'], correctIndex: 0, explanation: 'Move = ₹100. 50% = ₹50 below top. 200 - 50 = ₹150 support.', difficulty: 'medium' },
    { id: '19-9', type: 'scenario', question: 'Stock breaks below support. Old support now becomes?', options: ['Resistance (role reversal)', 'Stronger support', 'Nothing'], correctIndex: 0, explanation: 'Broken support turns into resistance. Classic role reversal.', difficulty: 'medium' },
    { id: '19-10', type: 'tricky', question: 'Support touched but volume decreasing each time. Signal?', options: ['Support weakening', 'Support strengthening', 'No significance'], correctIndex: 0, explanation: 'Decreasing volume = Fewer buyers each time = Support weakening.', difficulty: 'tricky' },
    { id: '19-11', type: 'bar', question: 'Volume at support tests. Which test shows strongest buying?', options: ['Test 1 (highest volume)', 'Test 3 (lowest volume)', 'All equal'], correctIndex: 0, explanation: 'Highest volume bounce (Test 1) shows maximum buying conviction.', visual: { type: 'bar', data: { bars: [{ label: 'Test 1', value: 500 }, { label: 'Test 2', value: 300 }, { label: 'Test 3', value: 150 }] } }, difficulty: 'medium' },
    { id: '19-12', type: 'text', question: 'Best place to set stop loss when buying at support?', options: ['Just below support', 'Far below support', 'Above support'], correctIndex: 0, explanation: 'Stop loss just below support. If support breaks, exit quickly.', difficulty: 'easy' },
  ],

  // Day 20: Resistance Levels
  20: [
    { id: '20-1', type: 'text', question: 'Price fell DOWN from ₹800 three times. ₹800 is called?', options: ['Resistance level', 'Support level', 'Moving average'], correctIndex: 0, explanation: 'Price falling DOWN from a level = Resistance!', difficulty: 'easy' },
    { id: '20-2', type: 'chart', question: 'Identify resistance level from this chart:', options: ['₹120 (price rejected here)', '₹100', '₹80'], correctIndex: 0, explanation: 'Price rejected at ₹120 multiple times = Resistance.', visual: { type: 'chart', data: { points: [100, 115, 120, 110, 118, 120, 105, 117, 120] } }, difficulty: 'medium' },
    { id: '20-3', type: 'scenario', question: 'Stock at ₹118. Resistance at ₹120. Good to buy?', options: ['Risky, very close to resistance', 'Yes, great entry', 'Doesnt matter'], correctIndex: 0, explanation: 'Buying near resistance is risky. Price might fall from ₹120.', difficulty: 'medium' },
    { id: '20-4', type: 'tricky', question: 'Resistance breaks. What does old resistance become?', options: ['Support (role reversal)', 'Stronger resistance', 'Nothing'], correctIndex: 0, explanation: 'Broken resistance becomes support. Role reversal!', difficulty: 'medium' },
    { id: '20-5', type: 'pie', question: 'Order book at resistance. Will price break through?', options: ['Unlikely, sellers dominate', 'Likely, buyers strong', 'Equal chance'], correctIndex: 0, explanation: '65% sell orders = Heavy selling pressure = Likely rejection.', visual: { type: 'pie', data: { segments: [{ label: 'Buyers', value: 35, color: '#10B981' }, { label: 'Sellers', value: 65, color: '#EF4444' }] } }, difficulty: 'medium' },
    { id: '20-6', type: 'text', question: '52-week high is usually what kind of level?', options: ['Strong resistance', 'Strong support', 'Neither'], correctIndex: 0, explanation: '52-week highs are psychological barriers. Many sellers there.', difficulty: 'easy' },
    { id: '20-7', type: 'calculation', question: 'Stock at ₹950, resistance ₹1000. Distance to resistance?', options: ['₹50 or 5.26%', '₹950', '₹1000'], correctIndex: 0, explanation: '1000-950 = ₹50. Or (50/950)×100 = 5.26%.', difficulty: 'medium' },
    { id: '20-8', type: 'comparison', question: 'Resistance at ₹10000 vs ₹10234. Which is stronger psychologically?', options: ['₹10000 (round number)', '₹10234 (technical)', 'Equal strength'], correctIndex: 0, explanation: 'Round numbers attract more orders. Psychological barriers are powerful.', visual: { type: 'comparison', data: { items: [{ label: '₹10000', value: 80 }, { label: '₹10234', value: 50 }] } }, difficulty: 'tricky' },
    { id: '20-9', type: 'bar', question: 'Volume at resistance tests. Which break attempt most likely to succeed?', options: ['Attempt 3 (highest volume)', 'Attempt 1', 'All equal'], correctIndex: 0, explanation: 'Highest volume = Most conviction = Most likely to break through.', visual: { type: 'bar', data: { bars: [{ label: 'Attempt 1', value: 80 }, { label: 'Attempt 2', value: 100 }, { label: 'Attempt 3', value: 200 }] } }, difficulty: 'medium' },
    { id: '20-10', type: 'tricky', question: 'Stock breaks resistance but closes below it. Valid breakout?', options: ['No, failed breakout', 'Yes, it touched above', 'Depends on next day'], correctIndex: 0, explanation: 'Close matters more than intraday high. Failed breakout = trap!', difficulty: 'tricky' },
    { id: '20-11', type: 'scenario', question: 'Resistance tested 7 times without breaking. Getting stronger or weaker?', options: ['Weaker (sellers exhausting)', 'Stronger (proven 7 times)', 'Same'], correctIndex: 0, explanation: 'Each test weakens resistance. 7 tests = sellers exhausting. Breakout likely!', difficulty: 'tricky' },
    { id: '20-12', type: 'text', question: 'Best place to set target when buying?', options: ['Just below resistance', 'Way above resistance', 'At resistance'], correctIndex: 0, explanation: 'Set target just below resistance where selling likely starts.', difficulty: 'easy' },
  ],

  // Day 25: Candlestick Patterns
  25: [
    { id: '25-1', type: 'text', question: 'Doji candle (open = close) shows:', options: ['Indecision in market', 'Strong buying', 'Strong selling'], correctIndex: 0, explanation: 'Doji = Open ≈ Close = Neither bulls nor bears won = Indecision!', difficulty: 'easy' },
    { id: '25-2', type: 'scenario', question: 'Doji appears after 5 green (up) candles. What might happen?', options: ['Possible reversal down', 'Trend continues up', 'Nothing significant'], correctIndex: 0, explanation: 'Doji after uptrend = Bulls losing steam = Reversal warning!', difficulty: 'medium' },
    { id: '25-3', type: 'text', question: 'Hammer candle (long lower wick at bottom) means:', options: ['Buyers pushed price back up', 'Sellers won', 'Nothing'], correctIndex: 0, explanation: 'Hammer = Price fell but buyers pushed it back = Bullish at bottom.', difficulty: 'easy' },
    { id: '25-4', type: 'comparison', question: 'Doji at support vs Doji in middle of nowhere. Which is more significant?', options: ['At support (stronger signal)', 'In middle', 'Same significance'], correctIndex: 0, explanation: 'Context matters! Doji at key level = Much stronger signal.', visual: { type: 'comparison', data: { items: [{ label: 'Doji at Support', value: 90 }, { label: 'Doji in Middle', value: 30 }] } }, difficulty: 'medium' },
    { id: '25-5', type: 'tricky', question: 'Big green candle completely covers previous red candle. Pattern name?', options: ['Bullish Engulfing', 'Doji', 'Hammer'], correctIndex: 0, explanation: 'Bullish Engulfing = Green candle engulfs previous red = Bullish signal.', difficulty: 'medium' },
    { id: '25-6', type: 'scenario', question: 'You see shooting star (long upper wick) at resistance. Signal?', options: ['Bearish, price rejected at top', 'Bullish', 'No signal'], correctIndex: 0, explanation: 'Shooting star at resistance = Sellers pushed price down = Bearish!', difficulty: 'medium' },
    { id: '25-7', type: 'bar', question: 'Candle body vs wick size. Which candle shows most conviction?', options: ['Big body, small wicks', 'Small body, big wicks', 'Equal body and wicks'], correctIndex: 0, explanation: 'Big body = Price moved strongly in one direction. More conviction.', visual: { type: 'bar', data: { bars: [{ label: 'Body Size', value: 80 }, { label: 'Wick Size', value: 20 }] } }, difficulty: 'medium' },
    { id: '25-8', type: 'text', question: 'Green candle means price:', options: ['Closed higher than opened', 'Closed lower than opened', 'No change'], correctIndex: 0, explanation: 'Green = Close > Open = Price went up during that candle.', difficulty: 'easy' },
    { id: '25-9', type: 'tricky', question: 'Same shaped candle at top vs bottom of trend. Same meaning?', options: ['No, context changes meaning', 'Yes, shape is what matters', 'Depends on color'], correctIndex: 0, explanation: 'At bottom = Hammer (bullish). At top = Hanging Man (bearish). Context matters!', difficulty: 'tricky' },
    { id: '25-10', type: 'pie', question: 'Your candle pattern trades. Which pattern type should you focus on?', options: ['Patterns at key levels', 'All patterns equally', 'Random patterns'], correctIndex: 0, explanation: 'Patterns at support/resistance are much more reliable.', visual: { type: 'pie', data: { segments: [{ label: 'At Key Levels', value: 70, color: '#10B981' }, { label: 'Random', value: 30, color: '#EF4444' }] } }, difficulty: 'medium' },
    { id: '25-11', type: 'scenario', question: 'Three big red candles in a row at resistance. What pattern?', options: ['Three Black Crows (bearish)', 'Bullish pattern', 'No pattern'], correctIndex: 0, explanation: 'Three Black Crows = Three strong red candles = Very bearish!', difficulty: 'medium' },
    { id: '25-12', type: 'text', question: 'Morning Star is a:', options: ['3-candle bullish reversal pattern', '1-candle pattern', 'Bearish pattern'], correctIndex: 0, explanation: 'Morning Star = Red → Small → Big Green = Bullish reversal!', difficulty: 'medium' },
  ],

  // Day 37: Moving Averages
  37: [
    { id: '37-1', type: 'text', question: 'Price above 200 day average indicates:', options: ['Long-term uptrend', 'Long-term downtrend', 'No trend'], correctIndex: 0, explanation: 'Price above 200 day moving average = Bullish long-term trend!', difficulty: 'easy' },
    { id: '37-2', type: 'comparison', question: '20-day vs 200-day moving average. Which reacts faster?', options: ['20-day (shorter period)', '200-day (longer period)', 'Same speed'], correctIndex: 0, explanation: 'Shorter period averages react faster to price changes.', visual: { type: 'comparison', data: { items: [{ label: '20-day Speed', value: 90 }, { label: '200-day Speed', value: 30 }] } }, difficulty: 'medium' },
    { id: '37-3', type: 'calculation', question: 'Last 5 prices: 100, 102, 98, 104, 101. Simple average?', options: ['101', '100', '102'], correctIndex: 0, explanation: '(100+102+98+104+101)/5 = 505/5 = 101', difficulty: 'medium' },
    { id: '37-4', type: 'scenario', question: 'Stock falls to touch 200-day average in an uptrend. Opportunity?', options: ['Yes, potential support', 'No, sell signal', 'Doesnt matter'], correctIndex: 0, explanation: '200-day MA often acts as support in uptrends. Good entry point.', difficulty: 'medium' },
    { id: '37-5', type: 'text', question: '50-day MA crosses ABOVE 200-day MA. This is called?', options: ['Golden Cross (bullish)', 'Death Cross', 'No name'], correctIndex: 0, explanation: 'Golden Cross = Short MA above Long MA = Bullish signal!', difficulty: 'easy' },
    { id: '37-6', type: 'text', question: '50-day MA crosses BELOW 200-day MA. This is called?', options: ['Death Cross (bearish)', 'Golden Cross', 'No name'], correctIndex: 0, explanation: 'Death Cross = Short MA below Long MA = Bearish signal!', difficulty: 'easy' },
    { id: '37-7', type: 'tricky', question: 'Golden Cross happened but price already up 20%. Enter now?', options: ['Maybe too late, MA signals lag', 'Yes, buy immediately', 'Sell instead'], correctIndex: 0, explanation: 'Moving average crossovers are lagging indicators. Often late.', difficulty: 'tricky' },
    { id: '37-8', type: 'bar', question: 'MA crossover performance. When do they work best?', options: ['In trending markets', 'In sideways markets', 'Always work equally'], correctIndex: 0, explanation: 'MA crossovers work in trends but give false signals in ranges.', visual: { type: 'bar', data: { bars: [{ label: 'Trending', value: 75 }, { label: 'Sideways', value: 35 }] } }, difficulty: 'medium' },
    { id: '37-9', type: 'pie', question: 'Your MA usage. Is this balanced for swing trading?', options: ['Need to add longer-term MA', 'Good mix', 'Too many MAs'], correctIndex: 0, explanation: 'Using only short MAs misses big picture. Add 200-day for context.', visual: { type: 'pie', data: { segments: [{ label: '9 EMA', value: 50, color: '#10B981' }, { label: '21 EMA', value: 50, color: '#3B82F6' }] } }, difficulty: 'medium' },
    { id: '37-10', type: 'tricky', question: 'Price below all MAs (20, 50, 200). Trend is?', options: ['Strong downtrend', 'Strong uptrend', 'No trend'], correctIndex: 0, explanation: 'Price below all moving averages = Clear bearish trend.', difficulty: 'easy' },
    { id: '37-11', type: 'scenario', question: 'Stock touches 50-day MA and bounces. MA acted as?', options: ['Support', 'Resistance', 'Neither'], correctIndex: 0, explanation: 'In uptrend, MAs often act as dynamic support levels.', difficulty: 'medium' },
    { id: '37-12', type: 'text', question: 'For day trading, which MA period is typically used?', options: ['Short periods like 9, 20', 'Long periods like 200', 'No MAs used'], correctIndex: 0, explanation: 'Day traders use faster MAs (9, 20) for quick signals.', difficulty: 'easy' },
  ],

  // Day 39: RSI Indicator
  39: [
    { id: '39-1', type: 'text', question: 'RSI at 85 means the stock is:', options: ['Overbought (possibly due for pullback)', 'Oversold', 'Neutral'], correctIndex: 0, explanation: 'RSI above 70 = Overbought. 85 is very overbought!', difficulty: 'easy' },
    { id: '39-2', type: 'text', question: 'RSI at 25 means the stock is:', options: ['Oversold (possibly due for bounce)', 'Overbought', 'Neutral'], correctIndex: 0, explanation: 'RSI below 30 = Oversold. Potential buying opportunity.', difficulty: 'easy' },
    { id: '39-3', type: 'comparison', question: 'RSI zones: 30 vs 70. Which suggests buying?', options: ['Below 30 (oversold)', 'Above 70 (overbought)', 'Both equally'], correctIndex: 0, explanation: 'Oversold (below 30) = Potential bounce = Buying zone.', visual: { type: 'comparison', data: { items: [{ label: 'Overbought Zone', value: 85 }, { label: 'Oversold Zone', value: 25 }] } }, difficulty: 'easy' },
    { id: '39-4', type: 'tricky', question: 'RSI at 80 in strong uptrend. Should you sell immediately?', options: ['Not necessarily, RSI can stay high in trends', 'Yes, always sell at 70+', 'Buy more'], correctIndex: 0, explanation: 'In strong trends, RSI can stay overbought for extended periods!', difficulty: 'tricky' },
    { id: '39-5', type: 'scenario', question: 'Price makes new high, RSI makes lower high. This is called?', options: ['Bearish divergence (warning sign)', 'Bullish signal', 'Nothing'], correctIndex: 0, explanation: 'Price higher + RSI lower = Bearish divergence = Weakness coming.', difficulty: 'medium' },
    { id: '39-6', type: 'calculation', question: 'Standard RSI period is:', options: ['14 periods', '7 periods', '50 periods'], correctIndex: 0, explanation: 'Default RSI uses 14-period lookback.', difficulty: 'easy' },
    { id: '39-7', type: 'pie', question: 'Your indicator usage. Over-relying on RSI?', options: ['Yes, need more tools', 'Good balance', 'Use more RSI'], correctIndex: 0, explanation: '70% RSI reliance is too much. Combine with other indicators.', visual: { type: 'pie', data: { segments: [{ label: 'RSI', value: 70, color: '#3B82F6' }, { label: 'Others', value: 30, color: '#10B981' }] } }, difficulty: 'medium' },
    { id: '39-8', type: 'text', question: 'RSI at exactly 50 means:', options: ['Neutral - no signal', 'Buy signal', 'Sell signal'], correctIndex: 0, explanation: 'RSI 50 = Balance between gains and losses. No signal.', difficulty: 'easy' },
    { id: '39-9', type: 'bar', question: 'RSI over 4 days: 35→45→55→65. Momentum is:', options: ['Building (getting stronger)', 'Fading', 'Neutral'], correctIndex: 0, explanation: 'RSI rising = Momentum building = Bullish.', visual: { type: 'bar', data: { bars: [{ label: 'Day 1', value: 35 }, { label: 'Day 2', value: 45 }, { label: 'Day 3', value: 55 }, { label: 'Day 4', value: 65 }] } }, difficulty: 'medium' },
    { id: '39-10', type: 'tricky', question: 'Stock A: RSI 25. Stock B: RSI 75. Which is better buy?', options: ['Need more context', 'Stock A (oversold)', 'Stock B (momentum)'], correctIndex: 0, explanation: 'RSI alone isnt enough. Need to check trend, support, news etc.', difficulty: 'tricky' },
    { id: '39-11', type: 'scenario', question: 'RSI drops from 75 to 45 but price unchanged. Meaning?', options: ['Momentum weakening (warning)', 'Nothing significant', 'Buy signal'], correctIndex: 0, explanation: 'RSI falling while price flat = Momentum weakening = Early warning.', difficulty: 'medium' },
    { id: '39-12', type: 'tricky', question: 'RSI shows oversold but price keeps falling. What happened?', options: ['RSI can stay oversold in strong downtrends', 'RSI is broken', 'Definitely bounce now'], correctIndex: 0, explanation: 'In strong downtrends, RSI can stay oversold for long periods.', difficulty: 'tricky' },
  ],
};

export const getQuizzesForLesson = (day: number): VisualQuiz[] => {
  return lessonQuizzes[day] || [];
};

export const generateDefaultQuizzes = (lesson: any): VisualQuiz[] => {
  const baseQuiz: VisualQuiz = {
    id: `${lesson.day}-default`,
    type: 'text',
    question: lesson.quiz.question,
    options: lesson.quiz.options,
    correctIndex: lesson.quiz.correctIndex,
    explanation: lesson.quiz.explanation,
    difficulty: 'easy'
  };
  return [baseQuiz];
};